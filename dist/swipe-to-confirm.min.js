angular.module("ppica.pswipeToConfirm",[]).directive("pswipeToConfirm",function(){return{restrict:"E",scope:{onConfirm:"&",actionText:"@",movingText:"@",resultText:"@",fasClass:"@?"},template:`
          <div class="pswipe-container">
            <div class="pswipe-track-drag animate" ng-class="{'active-track': scope.active}" ng-mousedown="dragStart($event)" ng-mousemove="drag($event)" ng-mouseup="dragEnd()">
              <div class="pswipe-drag-item">${fasClass?`<i class="fas ${fasClass}"></i>`:">>"}</div>
              <p class="pswipe-track-text pswipe-track-text--end">${confirmText}</p>
              <p class="pswipe-track-text pswipe-track-text--after">${afterText}</p>
              <p class="pswipe-track-text pswipe-track-text--before">${beforeText}</p>
            </div>
          </div>
        `,link:function(e,t){e.actionText=e.actionText||"Slide to Confirm",e.movingText=e.movingText||"Confirming...",e.resultText=e.resultText||"Confirmed",e.fasClass=e.fasClass||null;let a=t[0].querySelector(".pswipe-drag-item");let i=t[0].querySelector(".pswipe-track-drag").clientWidth-a.clientWidth-20;e.active=!1;let s,r=0;e.dragStart=function(t){t.target===a&&(e.active=!0,s=t.clientX-r)},e.drag=function(t){e.active&&(t.preventDefault(),0<(r=t.clientX-s))&&r<i&&(a.style.transform=`translate3d(${r}px, 0, 0)`)},e.dragEnd=function(){r>=i-5&&e.onConfirm(),a.style.transform="translate3d(0px, 0, 0)",e.active=!1}}}});