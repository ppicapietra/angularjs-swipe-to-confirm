angular.module("ppica.pswipeToConfirm",[]).directive("pswipeToConfirm",function(){return{restrict:"E",scope:{onConfirm:"&",actionText:"@",movingText:"@",resultText:"@",fasClass:"@?"},template:`
          <div class="pswipe-container">
            <div class="pswipe-track-drag animate" ng-class="{'active-track': scope.active}" ng-mousedown="dragStart($event)" ng-mousemove="drag($event)" ng-mouseup="dragEnd()">
              <div class="pswipe-drag-item">${scope.fasClass?`<i class="fas ${scope.fasClass}"></i>`:">>"}</div>
              <p class="pswipe-track-text pswipe-track-text--end">${scope.confirmText}</p>
              <p class="pswipe-track-text pswipe-track-text--after">${scope.afterText}</p>
              <p class="pswipe-track-text pswipe-track-text--before">${scope.beforeText}</p>
            </div>
          </div>
        `,link:function(t,e){t.actionText=t.actionText||"Slide to Confirm",t.movingText=t.movingText||"Confirming...",t.resultText=t.resultText||"Confirmed",t.fasClass=t.fasClass||null;let a=e[0].querySelector(".pswipe-drag-item");let s=e[0].querySelector(".pswipe-track-drag").clientWidth-a.clientWidth-20;t.active=!1;let i,r=0;t.dragStart=function(e){e.target===a&&(t.active=!0,i=e.clientX-r)},t.drag=function(e){t.active&&(e.preventDefault(),0<(r=e.clientX-i))&&r<s&&(a.style.transform=`translate3d(${r}px, 0, 0)`)},t.dragEnd=function(){r>=s-5&&t.onConfirm(),a.style.transform="translate3d(0px, 0, 0)",t.active=!1}}}});